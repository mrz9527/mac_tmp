# 数组下标

<font color="red">约定，维度为0，表示是一个具体的数值，维度为1表示1维数组，维度>1表示多维数组。</font>

数组下标为整数时，是数组指定索引的元素。

数组下标为切片时，是数组的区间。

对于多维数组的下标同样适用，只不过<font color="red">多维数组的下标采用逗号分割，以此来表示各个维度的下标。</font>

```python
a = [0,1,2,3,4,5]
print(a[4])
print(a[:4])
```



```
输出：
4
[0,1,2,3]
```

假定a的维度是1，此时a[4]元素是一个值，维度为0，a[:4]得到的是一个区间，维度还是1，该维度的元素个数变为4。

<font color="red">数组下标为整数，该维度的元素个数变为1，维度减1；</font>

<font color="red">数组下标为切片，虽然切片后该维度的元素个数可能变为1，但是维度仍然不变</font>

举例：

```python
import numpy as np

a = np.array([[1, 2, 3, 4], [5, 6, 7, 8]])
print(a, a.shape)													# 2维。（2,4)，第0维2个元素，第1维4个元素
print(a[1, 1], a[1, 2].shape)							# 0维。整数值6。							原来a维度为2，减少2个维度后，维度变为0
print(a[:, 1], a[:, 1].shape)							# 1维。(2,)， 第0维2个元素。		原来a维度为2，减少1个维度后，维度变为2
print(a[0, 1:3], a[0, 1:3].shape)					# 1维。(2,)， 第0维2个元素。		原来a维度为2，减少1个维度后，维度变为2
print(a[:, 1:3], a[:, 1:3].shape)					# 2维。（2,4)，第0维2个元素，第1维2个元素。	维度不变
print(a[0:1, 0:1], a[0:1, 0:1].shape)     # 2维。（1,1)，第0维1个元素，第1维1个元素。	维度不变
```

```
输出：
[[1 2 3 4]
 [5 6 7 8]] (2, 4)
6 ()
[2 6] (2,)
[2 3] (2,)
[[2 3]
 [6 7]] (2, 2)
[[1]] (1, 1)
```



# 一维数组切片和索引

基本类型的切片：string 、list、tuple、dict、set

第三方类型切片：numpy.ndarray

基本类型和第三方类型的一维数组切片方式是一致的。

```python
text = "python"
```



* 切片

  切片后的区间是左闭右开

  start : end : step

```python
s1 = slice(1, 5, 1)		# [1,5)，步长为1
s2 = slice(1, 5, 2)		# [1,5)，步长为2
s3 = slice(1, -1, 1)  # [1,-1)，步长为1
print(text[s1])
print(text[s2])
print(text[s3])
print(text[0:5:1])
```



```
输出：
ytho
yh
ytho
pytho
```



* 索引

```python
print(text[-1])	# 反向索引
print(text[1])	# 正向索引
```

```
输出：
o
y
```

* 反向遍历

  ::

```python
print(text[::-1]) 		# 反向遍历输出字符串
print(text[3::-1])		# 从索引为3的位置开始，反向遍历输出字符串
```

```
输出：
nohtyp
htyp
```



# 多维数组切片和索引

numpy.ndarray多维数组的切片（基本类型多维数组的切片）

<font color="red">多维数组的切片采用逗号来区分维度，维度依次为0，1，2...，逗号分割后的值为该维度的索引或者切片</font>

多维数组的下标个数可能会小于维度数。比如3维数组a，a[1,2]，此时下标索引2默认为是切片，即a[1,2]等同a[1,2,:]

* 二维数组切片

```python
import numpy as np

a = np.array([[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12], [13, 14, 15, 16], [17, 18, 19, 20]])
print(a.shape)
print(a[0, :], a[0, :].shape)			# 数组a，第0维的第0个元素，第1维的切片区间为”:“
print(a[1, :], a[1, :].shape) 		# 数组a，第0维的第1个元素，第1维的切片区间为”:“
print(a[-1, :], a[-1, :].shape) 	# 数组a，第0维的最后一个元素，第1维的切片区间为”:“
print(a[0:2, :], a[0:2, :].shape) # 数组a，第0维的切片区间为”0:2“，第1维的切片区间为”:“
print(a[:, 0], a[:, 0].shape)			# 数组a，第0维的切片区间为”:“，第1维的第0个元素
print(a[:, 1], a[:, 1].shape)
print(a[:, -1], a[:, -1].shape)
print(a[:, 0:2], a[:, 0:2].shape)
```

```
输出：
(5, 4)
[1 2 3 4] (4,)
[5 6 7 8] (4,)
[17 18 19 20] (4,)
[[1 2 3 4]
 [5 6 7 8]] (2, 4)
[ 1  5  9 13 17] (5,)
[ 2  6 10 14 18] (5,)
[ 4  8 12 16 20] (5,)
[[ 1  2]
 [ 5  6]
 [ 9 10]
 [13 14]
 [17 18]] (5, 2)
```

* 三维数组切片

**测试代码：**

```python
import numpy as np

b = np.array([[[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12]],
              [[13, 14, 15, 16], [17, 18, 19, 20], [21, 22, 23, 24]],
              [[25, 26, 27, 28], [29, 30, 31, 32], [33, 34, 35, 36]],
              ])

print(b.shape)		
```

**输出：**

```
(3, 3, 4)
```



**测试代码**

```python
print(b[0, ::], b[0, ::].shape)			# 下标0为索引，该维度减1，取第0维的第0个元素，下标1为切片，下标2默认为切片
print(b[1, ::], b[1, ::].shape)			# 下标0为索引，该维度减1，取第0维的第1个元素，下标1为切片，下标2默认为切片
print(b[-1, ::], b[-1, ::].shape)		# 下标0为索引，该维度减1，取第0维的最后1个元素，下标1为切片，下标2默认为切片
print(b[0:2, ::], b[0:2, ::].shape)	# 下标0为切片，该维度不变，取第0维的第0个和第1个元素，下标1为切片，下标2默认为切片
```

**输出：**

```
[[ 1  2  3  4]
 [ 5  6  7  8]
 [ 9 10 11 12]] (3, 4)
[[13 14 15 16]
 [17 18 19 20]
 [21 22 23 24]] (3, 4)
[[25 26 27 28]
 [29 30 31 32]
 [33 34 35 36]] (3, 4)
[[[ 1  2  3  4]
  [ 5  6  7  8]
  [ 9 10 11 12]]

 [[13 14 15 16]
  [17 18 19 20]
  [21 22 23 24]]] (2, 3, 4)
```

**测试代码**

```python
print(b[:, 1], b[:, 1].shape)							# 下标0为切片，该维度不变，下标1为索引，取第1维的第1个元素，下标2默认为切片
print("-------------------------------")
print(b[:, 1:], b[:, 1:].shape)
print("-------------------------------")
print(b[:, -1:], b[:, -1:].shape)
print("-------------------------------")
print(b[:, 0:2:], b[:, 0:2:].shape)
```

**输出**

```
[[ 5  6  7  8]
 [17 18 19 20]
 [29 30 31 32]] (3, 4)
-------------------------------
[[[ 5  6  7  8]
  [ 9 10 11 12]]

 [[17 18 19 20]
  [21 22 23 24]]

 [[29 30 31 32]
  [33 34 35 36]]] (3, 2, 4)
-------------------------------
[[[ 9 10 11 12]]

 [[21 22 23 24]]

 [[33 34 35 36]]] (3, 1, 4)
-------------------------------
[[[ 1  2  3  4]
  [ 5  6  7  8]]

 [[13 14 15 16]
  [17 18 19 20]]

 [[25 26 27 28]
  [29 30 31 32]]] (3, 2, 4)
```

